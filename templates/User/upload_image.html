{% extends "User/User_dashboard.html" %}
{% block body %}


    <style>
* {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}

body {
  font-family: 'Montserrat', sans-serif;
  background: #535c68;
}

.wrapper {
  margin: auto;
  max-width: 640px;
  padding-top: 60px;
  text-align: center;
}

.container {
  background-color: #f9f9f9;
  padding: 20px;
  border-radius: 10px;
  /*border: 0.5px solid rgba(130, 130, 130, 0.25);*/
  /*box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1),
              0 0 0 1px rgba(0, 0, 0, 0.1);*/
}

h1 {
  color: #130f40;
  font-family: 'Varela Round', sans-serif;
  letter-spacing: -.5px;
  font-weight: 700;
  padding-bottom: 10px;
}

.upload-container {
  background-color: rgb(239, 239, 239);
  border-radius: 6px;
  padding: 10px;
}

.border-container {
  border: 5px dashed rgba(198, 198, 198, 0.65);
/*   border-radius: 4px; */
  padding: 20px;
}

.border-container p {
  color: #130f40;
  font-weight: 600;
  font-size: 1.1em;
  letter-spacing: -1px;
  margin-top: 30px;
  margin-bottom: 0;
  opacity: 0.65;
}

#file-browser {
  text-decoration: none;
  color: rgb(22,42,255);
  border-bottom: 3px dotted rgba(22, 22, 255, 0.85);
}

#file-browser:hover {
  color: rgb(0, 0, 255);
  border-bottom: 3px dotted rgba(0, 0, 255, 0.85);
}

.icons {
  color: #95afc0;
  opacity: 0.55;
}
</style>
<body>


{#<div class="wrapper">#}
{#  <div class="container">#}
{#    <h1>Upload a file</h1>#}
{#    <div class="upload-container">#}
{#      <div class="border-container">#}
{#        <div class="icons fa-4x">#}
{#          <i class="fas fa-file-image" data-fa-transform="shrink-3 down-2 left-6 rotate--45"></i>#}
{#          <i class="fas fa-file-alt" data-fa-transform="shrink-2 up-4"></i>#}
{#          <i class="fas fa-file-pdf" data-fa-transform="shrink-3 down-2 right-6 rotate-45"></i>#}
{#        </div>#}
{#        <!--<input type="file" id="file-upload">-->#}
{#        <p>Drag and drop files here, or#}
{#          <a href="#" id="file-browser">browse</a> your computer.</p>#}
{#      </div>#}
{#    </div>#}
{#  </div>#}
{#</div>#}
{#<script>#}
{#    $("#file-upload").css("opacity", "0");#}
{##}
{#$("#file-browser").click(function(e) {#}
{#  e.preventDefault();#}
{#  $("#file-upload").trigger("click");#}
{#});#}
{##}
{#</script>#}

{#<body>#}
{#    <div class="wrapper">#}
{#        <div class="container">#}
{#            <h1>Upload a file</h1>#}
{#            <div class="upload-container">#}
{#                <div class="border-container" id="drop-area">#}
{#                    <div class="icons fa-4x">#}
{#                        <i class="fas fa-file-image"></i>#}
{#                        <i class="fas fa-file-alt"></i>#}
{#                        <i class="fas fa-file-pdf"></i>#}
{#                    </div>#}
{#                    <p>Drag and drop files here, or <a href="#" id="file-browser">browse</a> your computer.</p>#}
{#                    <input type="file" id="file-upload">#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{##}
{#    <script>#}
{#        $(document).ready(function() {#}
{#            $("#file-browser").click(function(e) {#}
{#                e.preventDefault();#}
{#                $("#file-upload").trigger("click");#}
{#            });#}
{#        });#}
{#    </script>#}
{##}
{#</body>#}

{##}
{#    <body>#}
{#  <div class="wrapper">#}
{#    <div class="container">#}
{#      <h1>Upload a file</h1>#}
{#      <div class="upload-container">#}
{#        <div class="border-container">#}
{#          <div class="icons fa-4x">#}
{#            <i class="fas fa-file-image" data-fa-transform="shrink-3 down-2 left-6 rotate--45"></i>#}
{#            <i class="fas fa-file-alt" data-fa-transform="shrink-2 up-4"></i>#}
{#            <i class="fas fa-file-pdf" data-fa-transform="shrink-3 down-2 right-6 rotate-45"></i>#}
{#          </div>#}
{#          <p>Drag and drop files here, or#}
{#            <a href="#" id="file-browser">browse</a> your computer.#}
{#          </p>#}
{#          <input type="file" id="file-upload" style="display: none;">#}
{#          <p id="file-name"></p> <!-- Display selected file name -->#}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{#  </div>#}
{##}
{#  <script>#}
{#    document.getElementById("file-browser").addEventListener("click", function (e) {#}
{#      e.preventDefault();#}
{#      document.getElementById("file-upload").click();#}
{#    });#}
{##}
{#    document.getElementById("file-upload").addEventListener("change", function () {#}
{#      let file = this.files[0];#}
{#      if (file) {#}
{#        document.getElementById("file-name").textContent = "Selected file: " + file.name;#}
{#      } else {#}
{#        document.getElementById("file-name").textContent = "";#}
{#      }#}
{#    });#}
{#  </script>#}
{#</body>#}

    <body>
    <form action="/upload_image" enctype="multipart/form-data" method="post">
  <div class="wrapper">
    <div class="container">
      <h1>Upload a file</h1>
      <div class="upload-container">
        <div class="border-container" id="drop-zone">
          <div class="icons fa-4x">
            <i class="fas fa-file-image"></i>
            <i class="fas fa-file-alt"></i>
            <i class="fas fa-file-pdf"></i>
          </div>
          <p>Drag and drop files here, or
            <a href="#" id="file-browser">browse</a> your computer.
          </p>

          <input type="file" id="file-upload" name="file" style="display: none;">
          <p id="file-name"></p>
            <!-- Display selected file name -->
 <button type="submit" id="upload-button">Predict</button>
        </div>
      </div>
    </div>
  </div>
        </form>

  <script>
    const fileInput = document.getElementById("file-upload");
    const fileBrowser = document.getElementById("file-browser");
    const fileNameDisplay = document.getElementById("file-name");
    const dropZone = document.getElementById("drop-zone");

    // Open file explorer when "Browse" is clicked
    fileBrowser.addEventListener("click", function (e) {
      e.preventDefault();
      fileInput.click();
    });

    // Display selected file name
    fileInput.addEventListener("change", function () {
      let file = this.files[0];
      if (file) {
        fileNameDisplay.textContent = "Selected file: " + file.name;
      } else {
        fileNameDisplay.textContent = "";
      }
    });

    // Prevent default behavior for drag events
    ["dragenter", "dragover", "dragleave", "drop"].forEach(event => {
      dropZone.addEventListener(event, (e) => {
        e.preventDefault();
        e.stopPropagation();
      });
    });

    // Highlight drop zone when dragging file over it
    ["dragenter", "dragover"].forEach(event => {
      dropZone.addEventListener(event, () => {
        dropZone.style.border = "2px dashed #00f"; // Highlight effect
      });
    });

    // Remove highlight when dragging leaves
    ["dragleave", "drop"].forEach(event => {
      dropZone.addEventListener(event, () => {
        dropZone.style.border = "2px dashed #ccc"; // Reset border
      });
    });

    // Handle dropped file
    dropZone.addEventListener("drop", (e) => {
      let files = e.dataTransfer.files;
      if (files.length > 0) {
        fileInput.files = files; // Assign file to input
        fileNameDisplay.textContent = "Selected file: " + files[0].name;
      }
    });
  </script>
</body>


{% endblock %}